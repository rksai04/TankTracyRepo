<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <script>
  const REFRESH_INTERVAL_DAYS = 9;
  const MS_IN_A_DAY = 86400000;
  const LAST_VISIT_KEY = 'lastVisitTime';

  const now = Date.now();
  const lastVisit = localStorage.getItem(LAST_VISIT_KEY);

  if (!lastVisit || now - lastVisit > REFRESH_INTERVAL_DAYS * MS_IN_A_DAY) {
    localStorage.setItem(LAST_VISIT_KEY, now);
    location.reload(true); // force reload from server
  }
</script>
  <title>Random Name Picker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding-top: 50px;
      background: bisque;
    }
    #selectedName {
      font-size: 2em;
      margin: 20px;
      color: #333;
    }
    button {
      padding: 10px 20px;
      font-size: 1em;
      background-color: floralwhite;
    }
    #remaining {
      margin-top: 30px;
      font-size: 0.9em;
      color: #555;
    }
  </style>
</head>
<body>

<h1>ðŸŽ² TANK AND TRACY Daily Scrum Picker</h1>
<div id="selectedName">Click the button below to find out the lucky one to start:</div>
<button onclick="pickName()">lucky one to start tomorrow:</button>

<div id="remaining"></div>

<script>
  const allNames = [
    "Sanju", "Andrew", "Radha Krishna", "Vishak", "Sneha",
    "Sarath", "Sree Lakshmi", "Sahil", "Prajod Krishna", "Jeffy"
  ];

  let remainingNames = [...allNames];

  function pickName() {
    if (remainingNames.length === 0) {
      remainingNames = [...allNames];
      alert("All names picked! Resetting the list.");
    }

    const index = Math.floor(Math.random() * remainingNames.length);
    const selected = remainingNames.splice(index, 1)[0];

    document.getElementById("selectedName").innerText = `ðŸŽ‰ ${selected}`;
    document.getElementById("remaining").innerText =
        `Remaining: ${remainingNames.length > 0 ? remainingNames.join(", ") : "None"}`;
  }
</script>

</body>
</html>
